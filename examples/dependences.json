{"1":["# Dependence Analysis\nThe key to preserving the program semantics, when the program is being transformed,\nlies in ensuring that the same values are written to and read from the memory, and in the same order.\nConventionally, this is expressed using *data dependences*, which impose a partial execution order on the program.\nThe power of the polyhedral model lies in its ability to compute exact data dependences at the statement instance level.\n\nTwo statement instances are said to be *dependent* if one is executed before another, they access the same array element, and at least one access writes to that element.\n\nIn the \"Schedules\" example, we learned how to define the order in which statement instances are executed.\nIn the \"Memory Access\" example, we defined a relation of *potentially dependent* statement instances\nthat access the same array element and at least one access is a write.\nThe simplest version of dependence analysis is a combination of these two parts, so let us pick up where we stopped.\n\nWe are give the polynomial multiplication kernel\n```c\ndouble X[10], Y[10], Z[20];\n\nfor (int i = 0; i <= 20; ++i)\nS:  Z[i] = 0.;\nfor (int i = 0; i <= 10; ++i)\n    for (int j = 0; j <= 10; ++j)\nT:      Z[i + j] += A[i] * B[j];\n```\nand know how to define domains, schedules and access relations.\n","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h1 id=\"dependenceanalysis\">Dependence Analysis</h1>\n<p>The key to preserving the program semantics, when the program is being transformed,\nlies in ensuring that the same values are written to and read from the memory, and in the same order.\nConventionally, this is expressed using <em>data dependences</em>, which impose a partial execution order on the program.\nThe power of the polyhedral model lies in its ability to compute exact data dependences at the statement instance level.</p>\n<p>Two statement instances are said to be <em>dependent</em> if one is executed before another, they access the same array element, and at least one access writes to that element.</p>\n<p>In the \"Schedules\" example, we learned how to define the order in which statement instances are executed.\nIn the \"Memory Access\" example, we defined a relation of <em>potentially dependent</em> statement instances\nthat access the same array element and at least one access is a write.\nThe simplest version of dependence analysis is a combination of these two parts, so let us pick up where we stopped.</p>\n<p>We are give the polynomial multiplication kernel</p>\n<pre><code class=\"c language-c\">double X[10], Y[10], Z[20];\n\nfor (int i = 0; i &lt;= 20; ++i)\nS:  Z[i] = 0.;\nfor (int i = 0; i &lt;= 10; ++i)\n    for (int j = 0; j &lt;= 10; ++j)\nT:      Z[i + j] += A[i] * B[j];\n</code></pre>\n<p>and know how to define domains, schedules and access relations.</p>\n","markdown"],"2":["domain = isl.union_set(\"{S[i]: 0 <= i <= 20; T[i,j]: 0 <= i,j <= 10}\")\nschedule = isl.union_map(\"{S[i]->[t0,t1,t2]: t0 = 0 and t1 = i and t2 = 0; T[i,j]->[t0,t1,t2]: t0=1 and t1=i and t2=j}\")\nA_S_Z = isl.map(\"{S[i]->Z[a]: a = i and 0 <= a,i <= 20}\")\nA_T_Z = isl.map(\"{T[i,j]->Z[a]: a = i + j and 0 <= i,j <= 10 and 0 <= a <= 20}\")\nA_T_A = isl.map(\"{T[i,j]->A[a]: a = i and 0 <= a <= 20 and 0 <= i,j <= 10}\")\nA_T_B = isl.map(\"{T[i,j]->B[a]: a = j and 0 <= a <= 20 and 0 <= i,j <= 10}\")\nwrites = isl.union_map(A_S_Z).union(A_T_Z)\nreads = isl.union_map(A_T_Z).union(A_T_A).union(A_T_B)","","python"],"3":["### \nWe can also compute the set of statement instance pairs (a relation is essentially a set of pairs) that\naccess the same array element.\n\n## Plugging in Schedule Information\nBecause statement instances are executed following the lexicographic order of their respective dates,\nwe need a way to express it in the relations.\nIn the simplest case, we enforce the schedules for all statements to live in the same *space*.\nFor example, we added an auxiliary dimension \\\\(t\\_2\\\\) to the schedule for `S` simply to have as many dimensions for `S` as for `T`.\n*isl* then allows us to a define a map of \"lexicographic less-than\".","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>We can also compute the set of statement instance pairs (a relation is essentially a set of pairs) that\naccess the same array element.</p>\n<h2 id=\"plugginginscheduleinformation\">Plugging in Schedule Information</h2>\n<p>Because statement instances are executed following the lexicographic order of their respective dates,\nwe need a way to express it in the relations.\nIn the simplest case, we enforce the schedules for all statements to live in the same <em>space</em>.\nFor example, we added an auxiliary dimension \\(t_2\\) to the schedule for <code>S</code> simply to have as many dimensions for <code>S</code> as for <code>T</code>.\n<em>isl</em> then allows us to a define a map of \"lexicographic less-than\".</p>\n","markdown"],"4":["schedule_space = isl.set(\"{[t0,t1,t2]:}\").get_space()\nprecedes = isl.map.lex_lt(schedule_space)\nprint_latex(precedes)","\\[\\{\\, (t0, t1, t2) \\to (t0', t1', t2') \\mid t0' > t0 \\,\\} \\cup \\{\\, (t0, t1, t2) \\to (t0' = t0, t1', t2') \\mid t1' > t1 \\,\\} \\cup \\{\\, (t0, t1, t2) \\to (t0' = t0, t1' = t1, t2') \\mid t2' > t2 \\,\\}\\]\n","python"],"5":["### \nThis map basically follows the definition of the lexicographic order.\nCompare first pair of elements.\nIf one precedes another, the order is established.  Otherwise assume they are equal and compare the second pair.\nProceed until the final pair.\nThe `precedes` relation contains pairs of tuples where the first one lexicographically precedes the second one.\n\n### Question\nApply the `schedule` to the `domain` so as to map it to the schedule space.\nSave the result as `scheduled_domain`.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>This map basically follows the definition of the lexicographic order.\nCompare first pair of elements.\nIf one precedes another, the order is established.  Otherwise assume they are equal and compare the second pair.\nProceed until the final pair.\nThe <code>precedes</code> relation contains pairs of tuples where the first one lexicographically precedes the second one.</p>\n<h3 id=\"question\">Question</h3>\n<p>Apply the <code>schedule</code> to the <code>domain</code> so as to map it to the schedule space.\nSave the result as <code>scheduled_domain</code>.</p>\n","markdown"],"6":["#!Solution\nscheduled_domain = domain.apply(schedule)\nprint_latex(scheduled_domain)","<div class=\"pt-solution\" style=\"display: none\">#!Solution\nscheduled_domain = domain.apply(schedule)\nprint_latex(scheduled_domain)</div><a onclick='pt_fillInSolution(this)' tabindex='-1' class=\"pt-markdown-link\">[Solution]</a><br>\n","solution"],"7":["","",""],"8":["### \nNow we know how to move the relation from domain space to the schedule space: apply the schedule relation to everything in the domain space.\n\n### Question\nCheck that \\\\( \\\\mathtt{S}(2) \\\\) is executed before \\\\( \\\\mathtt{T}(0,0) \\\\).\n\n*Hint 1*: define a map between the two instances in question.<br>\n*Hint 2*: once in schedule space, you can check if the relation is a subset of `precedes`.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>Now we know how to move the relation from domain space to the schedule space: apply the schedule relation to everything in the domain space.</p>\n<h3 id=\"question\">Question</h3>\n<p>Check that \\( \\mathtt{S}(2) \\) is executed before \\( \\mathtt{T}(0,0) \\).</p>\n<p><em>Hint 1</em>: define a map between the two instances in question.<br>\n<em>Hint 2</em>: once in schedule space, you can check if the relation is a subset of <code>precedes</code>.</p>\n","markdown"],"9":["#!Solution\nrel = isl.union_map(\"{S[i] -> T[a,b]: i = 2 and a = 0 and b = 0}\")\nrel = rel.apply_domain(schedule).apply_range(schedule)\nprint rel.is_subset(precedes)","<div class=\"pt-solution\" style=\"display: none\">#!Solution\nrel = isl.union_map(\"{S[i] -> T[a,b]: i = 2 and a = 0 and b = 0}\")\nrel = rel.apply_domain(schedule).apply_range(schedule)\nprint rel.is_subset(precedes)</div><a onclick='pt_fillInSolution(this)' tabindex='-1' class=\"pt-markdown-link\">[Solution]</a><br>\n","solution"],"10":["","",""],"11":["## Memory-based Dependence Analysis\n### Flow Dependences\nFlow dependences appear when an array element is first written by one statement instance and then read by another statement instance.\nThe \"writer\" instance must be performed first.\nTherefore, we first compose the `writes` union map on the left with inverted `reads` union map on the right,\n\\\\( \\\\mathtt{writes} \\\\circ \\\\mathtt{reads}^{-1} \\\\).\nThen we transform it to the schedule space and intersect the result with the lexicographic precedence relation in the schedule space so as to\nonly keep the pairs where the dependence *source* (first date) is executed before its *sink* (second date).","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h2 id=\"memorybaseddependenceanalysis\">Memory-based Dependence Analysis</h2>\n<h3 id=\"flowdependences\">Flow Dependences</h3>\n<p>Flow dependences appear when an array element is first written by one statement instance and then read by another statement instance.\nThe \"writer\" instance must be performed first.\nTherefore, we first compose the <code>writes</code> union map on the left with inverted <code>reads</code> union map on the right,\n\\( \\mathtt{writes} \\circ \\mathtt{reads}^{-1} \\).\nThen we transform it to the schedule space and intersect the result with the lexicographic precedence relation in the schedule space so as to\nonly keep the pairs where the dependence <em>source</em> (first date) is executed before its <em>sink</em> (second date).</p>\n","markdown"],"12":["dep_flow = writes.apply_range(reads.reverse())\ndep_flow = dep_flow.apply_domain(schedule).apply_range(schedule)\ndep_flow = dep_flow.intersect(precedes)\nprint_latex(dep_flow)","\\[\\{\\, (t0 = 1, t1, t2) \\to (t0' = 1, t1', t2' = t1 + t2 - t1') \\mid 0 \\le t1 \\le 10 \\wedge 0 \\le t2 \\le 10 \\wedge t1' \\ge -10 + t1 + t2 \\wedge t1' > t1 \\wedge 0 \\le t1' \\le 10 \\wedge t1' \\le t1 + t2 \\,\\} \\cup \\{\\, (t0 = 0, t1, t2 = 0) \\to (t0' = 1, t1', t2' = t1 - t1') \\mid t1' \\ge -10 + t1 \\wedge 0 \\le t1' \\le 10 \\wedge t1' \\le t1 \\,\\}\\]\n","python"],"13":["### \nThe resulting relation is between *execution dates* rather than between points.\nTo transform it back to the domain space, recall that relations can be easily inverted.\nThe inverted schedule relation maps execution dates to statement instances.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>The resulting relation is between <em>execution dates</em> rather than between points.\nTo transform it back to the domain space, recall that relations can be easily inverted.\nThe inverted schedule relation maps execution dates to statement instances.</p>\n","markdown"],"14":["dep_flow = dep_flow.apply_domain(schedule.reverse()).apply_range(schedule.reverse())\nprint_latex(dep_flow)","\\[\\{\\, \\mathrm{T}(i, j) \\to \\mathrm{T}(i', j' = i + j - i') \\mid 0 \\le i \\le 10 \\wedge 0 \\le j \\le 10 \\wedge i' \\ge -10 + i + j \\wedge i' > i \\wedge 0 \\le i' \\le 10 \\wedge i' \\le i + j \\,\\} \\cup \\{\\, \\mathrm{S}(i) \\to \\mathrm{T}(i', j = i - i') \\mid i' \\ge -10 + i \\wedge 0 \\le i' \\le 10 \\wedge i' \\le i \\,\\}\\]\n","python"],"15":["### \nWe see a dependence between different instances of T, which we could analyze and compare with *potentially* dependent statement relation.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>We see a dependence between different instances of T, which we could analyze and compare with <em>potentially</em> dependent statement relation.</p>\n","markdown"],"16":["dep_flow_T = dep_flow.intersect(\"{T[i,j]->T[i',j']:}\")\npotential = writes.apply_range(reads.reverse())\npotential = potential.intersect(\"{T[i,j]->T[i',j']:}\")\nplot([dep_flow_T, potential])","<table class='table table-striped'><thead><tr><th><div class='graphics' id='graphics_920459769175'><img src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' onload='plotUnionMapClosed(\"#graphics_920459769175\",[{\"from\": \"T\", \"to\": \"T\", \"points\": [[0, 1, 1, 0], [0, 2, 1, 1], [0, 2, 2, 0], [0, 3, 1, 2], [0, 3, 2, 1], [0, 3, 3, 0], [0, 4, 1, 3], [0, 4, 2, 2], [0, 4, 3, 1], [0, 4, 4, 0], [0, 5, 1, 4], [0, 5, 2, 3], [0, 5, 3, 2], [0, 5, 4, 1], [0, 5, 5, 0], [0, 6, 1, 5], [0, 6, 2, 4], [0, 6, 3, 3], [0, 6, 4, 2], [0, 6, 5, 1], [0, 6, 6, 0], [0, 7, 1, 6], [0, 7, 2, 5], [0, 7, 3, 4], [0, 7, 4, 3], [0, 7, 5, 2], [0, 7, 6, 1], [0, 7, 7, 0], [0, 8, 1, 7], [0, 8, 2, 6], [0, 8, 3, 5], [0, 8, 4, 4], [0, 8, 5, 3], [0, 8, 6, 2], [0, 8, 7, 1], [0, 8, 8, 0], [0, 9, 1, 8], [0, 9, 2, 7], [0, 9, 3, 6], [0, 9, 4, 5], [0, 9, 5, 4], [0, 9, 6, 3], [0, 9, 7, 2], [0, 9, 8, 1], [0, 9, 9, 0], [0, 10, 1, 9], [0, 10, 2, 8], [0, 10, 3, 7], [0, 10, 4, 6], [0, 10, 5, 5], [0, 10, 6, 4], [0, 10, 7, 3], [0, 10, 8, 2], [0, 10, 9, 1], [0, 10, 10, 0], [1, 1, 2, 0], [1, 2, 2, 1], [1, 2, 3, 0], [1, 3, 2, 2], [1, 3, 3, 1], [1, 3, 4, 0], [1, 4, 2, 3], [1, 4, 3, 2], [1, 4, 4, 1], [1, 4, 5, 0], [1, 5, 2, 4], [1, 5, 3, 3], [1, 5, 4, 2], [1, 5, 5, 1], [1, 5, 6, 0], [1, 6, 2, 5], [1, 6, 3, 4], [1, 6, 4, 3], [1, 6, 5, 2], [1, 6, 6, 1], [1, 6, 7, 0], [1, 7, 2, 6], [1, 7, 3, 5], [1, 7, 4, 4], [1, 7, 5, 3], [1, 7, 6, 2], [1, 7, 7, 1], [1, 7, 8, 0], [1, 8, 2, 7], [1, 8, 3, 6], [1, 8, 4, 5], [1, 8, 5, 4], [1, 8, 6, 3], [1, 8, 7, 2], [1, 8, 8, 1], [1, 8, 9, 0], [1, 9, 2, 8], [1, 9, 3, 7], [1, 9, 4, 6], [1, 9, 5, 5], [1, 9, 6, 4], [1, 9, 7, 3], [1, 9, 8, 2], [1, 9, 9, 1], [1, 9, 10, 0], [1, 10, 2, 9], [1, 10, 3, 8], [1, 10, 4, 7], [1, 10, 5, 6], [1, 10, 6, 5], [1, 10, 7, 4], [1, 10, 8, 3], [1, 10, 9, 2], [1, 10, 10, 1], [2, 1, 3, 0], [2, 2, 3, 1], [2, 2, 4, 0], [2, 3, 3, 2], [2, 3, 4, 1], [2, 3, 5, 0], [2, 4, 3, 3], [2, 4, 4, 2], [2, 4, 5, 1], [2, 4, 6, 0], [2, 5, 3, 4], [2, 5, 4, 3], [2, 5, 5, 2], [2, 5, 6, 1], [2, 5, 7, 0], [2, 6, 3, 5], [2, 6, 4, 4], [2, 6, 5, 3], [2, 6, 6, 2], [2, 6, 7, 1], [2, 6, 8, 0], [2, 7, 3, 6], [2, 7, 4, 5], [2, 7, 5, 4], [2, 7, 6, 3], [2, 7, 7, 2], [2, 7, 8, 1], [2, 7, 9, 0], [2, 8, 3, 7], [2, 8, 4, 6], [2, 8, 5, 5], [2, 8, 6, 4], [2, 8, 7, 3], [2, 8, 8, 2], [2, 8, 9, 1], [2, 8, 10, 0], [2, 9, 3, 8], [2, 9, 4, 7], [2, 9, 5, 6], [2, 9, 6, 5], [2, 9, 7, 4], [2, 9, 8, 3], [2, 9, 9, 2], [2, 9, 10, 1], [2, 10, 3, 9], [2, 10, 4, 8], [2, 10, 5, 7], [2, 10, 6, 6], [2, 10, 7, 5], [2, 10, 8, 4], [2, 10, 9, 3], [2, 10, 10, 2], [3, 1, 4, 0], [3, 2, 4, 1], [3, 2, 5, 0], [3, 3, 4, 2], [3, 3, 5, 1], [3, 3, 6, 0], [3, 4, 4, 3], [3, 4, 5, 2], [3, 4, 6, 1], [3, 4, 7, 0], [3, 5, 4, 4], [3, 5, 5, 3], [3, 5, 6, 2], [3, 5, 7, 1], [3, 5, 8, 0], [3, 6, 4, 5], [3, 6, 5, 4], [3, 6, 6, 3], [3, 6, 7, 2], [3, 6, 8, 1], [3, 6, 9, 0], [3, 7, 4, 6], [3, 7, 5, 5], [3, 7, 6, 4], [3, 7, 7, 3], [3, 7, 8, 2], [3, 7, 9, 1], [3, 7, 10, 0], [3, 8, 4, 7], [3, 8, 5, 6], [3, 8, 6, 5], [3, 8, 7, 4], [3, 8, 8, 3], [3, 8, 9, 2], [3, 8, 10, 1], [3, 9, 4, 8], [3, 9, 5, 7], [3, 9, 6, 6], [3, 9, 7, 5], [3, 9, 8, 4], [3, 9, 9, 3], [3, 9, 10, 2], [3, 10, 4, 9], [3, 10, 5, 8], [3, 10, 6, 7], [3, 10, 7, 6], [3, 10, 8, 5], [3, 10, 9, 4], [3, 10, 10, 3], [4, 1, 5, 0], [4, 2, 5, 1], [4, 2, 6, 0], [4, 3, 5, 2], [4, 3, 6, 1], [4, 3, 7, 0], [4, 4, 5, 3], [4, 4, 6, 2], [4, 4, 7, 1], [4, 4, 8, 0], [4, 5, 5, 4], [4, 5, 6, 3], [4, 5, 7, 2], [4, 5, 8, 1], [4, 5, 9, 0], [4, 6, 5, 5], [4, 6, 6, 4], [4, 6, 7, 3], [4, 6, 8, 2], [4, 6, 9, 1], [4, 6, 10, 0], [4, 7, 5, 6], [4, 7, 6, 5], [4, 7, 7, 4], [4, 7, 8, 3], [4, 7, 9, 2], [4, 7, 10, 1], [4, 8, 5, 7], [4, 8, 6, 6], [4, 8, 7, 5], [4, 8, 8, 4], [4, 8, 9, 3], [4, 8, 10, 2], [4, 9, 5, 8], [4, 9, 6, 7], [4, 9, 7, 6], [4, 9, 8, 5], [4, 9, 9, 4], [4, 9, 10, 3], [4, 10, 5, 9], [4, 10, 6, 8], [4, 10, 7, 7], [4, 10, 8, 6], [4, 10, 9, 5], [4, 10, 10, 4], [5, 1, 6, 0], [5, 2, 6, 1], [5, 2, 7, 0], [5, 3, 6, 2], [5, 3, 7, 1], [5, 3, 8, 0], [5, 4, 6, 3], [5, 4, 7, 2], [5, 4, 8, 1], [5, 4, 9, 0], [5, 5, 6, 4], [5, 5, 7, 3], [5, 5, 8, 2], [5, 5, 9, 1], [5, 5, 10, 0], [5, 6, 6, 5], [5, 6, 7, 4], [5, 6, 8, 3], [5, 6, 9, 2], [5, 6, 10, 1], [5, 7, 6, 6], [5, 7, 7, 5], [5, 7, 8, 4], [5, 7, 9, 3], [5, 7, 10, 2], [5, 8, 6, 7], [5, 8, 7, 6], [5, 8, 8, 5], [5, 8, 9, 4], [5, 8, 10, 3], [5, 9, 6, 8], [5, 9, 7, 7], [5, 9, 8, 6], [5, 9, 9, 5], [5, 9, 10, 4], [5, 10, 6, 9], [5, 10, 7, 8], [5, 10, 8, 7], [5, 10, 9, 6], [5, 10, 10, 5], [6, 1, 7, 0], [6, 2, 7, 1], [6, 2, 8, 0], [6, 3, 7, 2], [6, 3, 8, 1], [6, 3, 9, 0], [6, 4, 7, 3], [6, 4, 8, 2], [6, 4, 9, 1], [6, 4, 10, 0], [6, 5, 7, 4], [6, 5, 8, 3], [6, 5, 9, 2], [6, 5, 10, 1], [6, 6, 7, 5], [6, 6, 8, 4], [6, 6, 9, 3], [6, 6, 10, 2], [6, 7, 7, 6], [6, 7, 8, 5], [6, 7, 9, 4], [6, 7, 10, 3], [6, 8, 7, 7], [6, 8, 8, 6], [6, 8, 9, 5], [6, 8, 10, 4], [6, 9, 7, 8], [6, 9, 8, 7], [6, 9, 9, 6], [6, 9, 10, 5], [6, 10, 7, 9], [6, 10, 8, 8], [6, 10, 9, 7], [6, 10, 10, 6], [7, 1, 8, 0], [7, 2, 8, 1], [7, 2, 9, 0], [7, 3, 8, 2], [7, 3, 9, 1], [7, 3, 10, 0], [7, 4, 8, 3], [7, 4, 9, 2], [7, 4, 10, 1], [7, 5, 8, 4], [7, 5, 9, 3], [7, 5, 10, 2], [7, 6, 8, 5], [7, 6, 9, 4], [7, 6, 10, 3], [7, 7, 8, 6], [7, 7, 9, 5], [7, 7, 10, 4], [7, 8, 8, 7], [7, 8, 9, 6], [7, 8, 10, 5], [7, 9, 8, 8], [7, 9, 9, 7], [7, 9, 10, 6], [7, 10, 8, 9], [7, 10, 9, 8], [7, 10, 10, 7], [8, 1, 9, 0], [8, 2, 9, 1], [8, 2, 10, 0], [8, 3, 9, 2], [8, 3, 10, 1], [8, 4, 9, 3], [8, 4, 10, 2], [8, 5, 9, 4], [8, 5, 10, 3], [8, 6, 9, 5], [8, 6, 10, 4], [8, 7, 9, 6], [8, 7, 10, 5], [8, 8, 9, 7], [8, 8, 10, 6], [8, 9, 9, 8], [8, 9, 10, 7], [8, 10, 9, 9], [8, 10, 10, 8], [9, 1, 10, 0], [9, 2, 10, 1], [9, 3, 10, 2], [9, 4, 10, 3], [9, 5, 10, 4], [9, 6, 10, 5], [9, 7, 10, 6], [9, 8, 10, 7], [9, 9, 10, 8], [9, 10, 10, 9]], \"tiles\": [], \"id\": {\"T\": 5.378973105134475}}],\"#graphics_920459769175\")'></div></th><th><div class='graphics' id='graphics_342033519356'><img src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' onload='plotUnionMapClosed(\"#graphics_342033519356\",[{\"from\": \"T\", \"to\": \"T\", \"points\": [[0, 0, 0, 0], [0, 1, 0, 1], [0, 1, 1, 0], [0, 2, 0, 2], [0, 2, 1, 1], [0, 2, 2, 0], [0, 3, 0, 3], [0, 3, 1, 2], [0, 3, 2, 1], [0, 3, 3, 0], [0, 4, 0, 4], [0, 4, 1, 3], [0, 4, 2, 2], [0, 4, 3, 1], [0, 4, 4, 0], [0, 5, 0, 5], [0, 5, 1, 4], [0, 5, 2, 3], [0, 5, 3, 2], [0, 5, 4, 1], [0, 5, 5, 0], [0, 6, 0, 6], [0, 6, 1, 5], [0, 6, 2, 4], [0, 6, 3, 3], [0, 6, 4, 2], [0, 6, 5, 1], [0, 6, 6, 0], [0, 7, 0, 7], [0, 7, 1, 6], [0, 7, 2, 5], [0, 7, 3, 4], [0, 7, 4, 3], [0, 7, 5, 2], [0, 7, 6, 1], [0, 7, 7, 0], [0, 8, 0, 8], [0, 8, 1, 7], [0, 8, 2, 6], [0, 8, 3, 5], [0, 8, 4, 4], [0, 8, 5, 3], [0, 8, 6, 2], [0, 8, 7, 1], [0, 8, 8, 0], [0, 9, 0, 9], [0, 9, 1, 8], [0, 9, 2, 7], [0, 9, 3, 6], [0, 9, 4, 5], [0, 9, 5, 4], [0, 9, 6, 3], [0, 9, 7, 2], [0, 9, 8, 1], [0, 9, 9, 0], [0, 10, 0, 10], [0, 10, 1, 9], [0, 10, 2, 8], [0, 10, 3, 7], [0, 10, 4, 6], [0, 10, 5, 5], [0, 10, 6, 4], [0, 10, 7, 3], [0, 10, 8, 2], [0, 10, 9, 1], [0, 10, 10, 0], [1, 0, 0, 1], [1, 0, 1, 0], [1, 1, 0, 2], [1, 1, 1, 1], [1, 1, 2, 0], [1, 2, 0, 3], [1, 2, 1, 2], [1, 2, 2, 1], [1, 2, 3, 0], [1, 3, 0, 4], [1, 3, 1, 3], [1, 3, 2, 2], [1, 3, 3, 1], [1, 3, 4, 0], [1, 4, 0, 5], [1, 4, 1, 4], [1, 4, 2, 3], [1, 4, 3, 2], [1, 4, 4, 1], [1, 4, 5, 0], [1, 5, 0, 6], [1, 5, 1, 5], [1, 5, 2, 4], [1, 5, 3, 3], [1, 5, 4, 2], [1, 5, 5, 1], [1, 5, 6, 0], [1, 6, 0, 7], [1, 6, 1, 6], [1, 6, 2, 5], [1, 6, 3, 4], [1, 6, 4, 3], [1, 6, 5, 2], [1, 6, 6, 1], [1, 6, 7, 0], [1, 7, 0, 8], [1, 7, 1, 7], [1, 7, 2, 6], [1, 7, 3, 5], [1, 7, 4, 4], [1, 7, 5, 3], [1, 7, 6, 2], [1, 7, 7, 1], [1, 7, 8, 0], [1, 8, 0, 9], [1, 8, 1, 8], [1, 8, 2, 7], [1, 8, 3, 6], [1, 8, 4, 5], [1, 8, 5, 4], [1, 8, 6, 3], [1, 8, 7, 2], [1, 8, 8, 1], [1, 8, 9, 0], [1, 9, 0, 10], [1, 9, 1, 9], [1, 9, 2, 8], [1, 9, 3, 7], [1, 9, 4, 6], [1, 9, 5, 5], [1, 9, 6, 4], [1, 9, 7, 3], [1, 9, 8, 2], [1, 9, 9, 1], [1, 9, 10, 0], [1, 10, 1, 10], [1, 10, 2, 9], [1, 10, 3, 8], [1, 10, 4, 7], [1, 10, 5, 6], [1, 10, 6, 5], [1, 10, 7, 4], [1, 10, 8, 3], [1, 10, 9, 2], [1, 10, 10, 1], [2, 0, 0, 2], [2, 0, 1, 1], [2, 0, 2, 0], [2, 1, 0, 3], [2, 1, 1, 2], [2, 1, 2, 1], [2, 1, 3, 0], [2, 2, 0, 4], [2, 2, 1, 3], [2, 2, 2, 2], [2, 2, 3, 1], [2, 2, 4, 0], [2, 3, 0, 5], [2, 3, 1, 4], [2, 3, 2, 3], [2, 3, 3, 2], [2, 3, 4, 1], [2, 3, 5, 0], [2, 4, 0, 6], [2, 4, 1, 5], [2, 4, 2, 4], [2, 4, 3, 3], [2, 4, 4, 2], [2, 4, 5, 1], [2, 4, 6, 0], [2, 5, 0, 7], [2, 5, 1, 6], [2, 5, 2, 5], [2, 5, 3, 4], [2, 5, 4, 3], [2, 5, 5, 2], [2, 5, 6, 1], [2, 5, 7, 0], [2, 6, 0, 8], [2, 6, 1, 7], [2, 6, 2, 6], [2, 6, 3, 5], [2, 6, 4, 4], [2, 6, 5, 3], [2, 6, 6, 2], [2, 6, 7, 1], [2, 6, 8, 0], [2, 7, 0, 9], [2, 7, 1, 8], [2, 7, 2, 7], [2, 7, 3, 6], [2, 7, 4, 5], [2, 7, 5, 4], [2, 7, 6, 3], [2, 7, 7, 2], [2, 7, 8, 1], [2, 7, 9, 0], [2, 8, 0, 10], [2, 8, 1, 9], [2, 8, 2, 8], [2, 8, 3, 7], [2, 8, 4, 6], [2, 8, 5, 5], [2, 8, 6, 4], [2, 8, 7, 3], [2, 8, 8, 2], [2, 8, 9, 1], [2, 8, 10, 0], [2, 9, 1, 10], [2, 9, 2, 9], [2, 9, 3, 8], [2, 9, 4, 7], [2, 9, 5, 6], [2, 9, 6, 5], [2, 9, 7, 4], [2, 9, 8, 3], [2, 9, 9, 2], [2, 9, 10, 1], [2, 10, 2, 10], [2, 10, 3, 9], [2, 10, 4, 8], [2, 10, 5, 7], [2, 10, 6, 6], [2, 10, 7, 5], [2, 10, 8, 4], [2, 10, 9, 3], [2, 10, 10, 2], [3, 0, 0, 3], [3, 0, 1, 2], [3, 0, 2, 1], [3, 0, 3, 0], [3, 1, 0, 4], [3, 1, 1, 3], [3, 1, 2, 2], [3, 1, 3, 1], [3, 1, 4, 0], [3, 2, 0, 5], [3, 2, 1, 4], [3, 2, 2, 3], [3, 2, 3, 2], [3, 2, 4, 1], [3, 2, 5, 0], [3, 3, 0, 6], [3, 3, 1, 5], [3, 3, 2, 4], [3, 3, 3, 3], [3, 3, 4, 2], [3, 3, 5, 1], [3, 3, 6, 0], [3, 4, 0, 7], [3, 4, 1, 6], [3, 4, 2, 5], [3, 4, 3, 4], [3, 4, 4, 3], [3, 4, 5, 2], [3, 4, 6, 1], [3, 4, 7, 0], [3, 5, 0, 8], [3, 5, 1, 7], [3, 5, 2, 6], [3, 5, 3, 5], [3, 5, 4, 4], [3, 5, 5, 3], [3, 5, 6, 2], [3, 5, 7, 1], [3, 5, 8, 0], [3, 6, 0, 9], [3, 6, 1, 8], [3, 6, 2, 7], [3, 6, 3, 6], [3, 6, 4, 5], [3, 6, 5, 4], [3, 6, 6, 3], [3, 6, 7, 2], [3, 6, 8, 1], [3, 6, 9, 0], [3, 7, 0, 10], [3, 7, 1, 9], [3, 7, 2, 8], [3, 7, 3, 7], [3, 7, 4, 6], [3, 7, 5, 5], [3, 7, 6, 4], [3, 7, 7, 3], [3, 7, 8, 2], [3, 7, 9, 1], [3, 7, 10, 0], [3, 8, 1, 10], [3, 8, 2, 9], [3, 8, 3, 8], [3, 8, 4, 7], [3, 8, 5, 6], [3, 8, 6, 5], [3, 8, 7, 4], [3, 8, 8, 3], [3, 8, 9, 2], [3, 8, 10, 1], [3, 9, 2, 10], [3, 9, 3, 9], [3, 9, 4, 8], [3, 9, 5, 7], [3, 9, 6, 6], [3, 9, 7, 5], [3, 9, 8, 4], [3, 9, 9, 3], [3, 9, 10, 2], [3, 10, 3, 10], [3, 10, 4, 9], [3, 10, 5, 8], [3, 10, 6, 7], [3, 10, 7, 6], [3, 10, 8, 5], [3, 10, 9, 4], [3, 10, 10, 3], [4, 0, 0, 4], [4, 0, 1, 3], [4, 0, 2, 2], [4, 0, 3, 1], [4, 0, 4, 0], [4, 1, 0, 5], [4, 1, 1, 4], [4, 1, 2, 3], [4, 1, 3, 2], [4, 1, 4, 1], [4, 1, 5, 0], [4, 2, 0, 6], [4, 2, 1, 5], [4, 2, 2, 4], [4, 2, 3, 3], [4, 2, 4, 2], [4, 2, 5, 1], [4, 2, 6, 0], [4, 3, 0, 7], [4, 3, 1, 6], [4, 3, 2, 5], [4, 3, 3, 4], [4, 3, 4, 3], [4, 3, 5, 2], [4, 3, 6, 1], [4, 3, 7, 0], [4, 4, 0, 8], [4, 4, 1, 7], [4, 4, 2, 6], [4, 4, 3, 5], [4, 4, 4, 4], [4, 4, 5, 3], [4, 4, 6, 2], [4, 4, 7, 1], [4, 4, 8, 0], [4, 5, 0, 9], [4, 5, 1, 8], [4, 5, 2, 7], [4, 5, 3, 6], [4, 5, 4, 5], [4, 5, 5, 4], [4, 5, 6, 3], [4, 5, 7, 2], [4, 5, 8, 1], [4, 5, 9, 0], [4, 6, 0, 10], [4, 6, 1, 9], [4, 6, 2, 8], [4, 6, 3, 7], [4, 6, 4, 6], [4, 6, 5, 5], [4, 6, 6, 4], [4, 6, 7, 3], [4, 6, 8, 2], [4, 6, 9, 1], [4, 6, 10, 0], [4, 7, 1, 10], [4, 7, 2, 9], [4, 7, 3, 8], [4, 7, 4, 7], [4, 7, 5, 6], [4, 7, 6, 5], [4, 7, 7, 4], [4, 7, 8, 3], [4, 7, 9, 2], [4, 7, 10, 1], [4, 8, 2, 10], [4, 8, 3, 9], [4, 8, 4, 8], [4, 8, 5, 7], [4, 8, 6, 6], [4, 8, 7, 5], [4, 8, 8, 4], [4, 8, 9, 3], [4, 8, 10, 2], [4, 9, 3, 10], [4, 9, 4, 9], [4, 9, 5, 8], [4, 9, 6, 7], [4, 9, 7, 6], [4, 9, 8, 5], [4, 9, 9, 4], [4, 9, 10, 3], [4, 10, 4, 10], [4, 10, 5, 9], [4, 10, 6, 8], [4, 10, 7, 7], [4, 10, 8, 6], [4, 10, 9, 5], [4, 10, 10, 4], [5, 0, 0, 5], [5, 0, 1, 4], [5, 0, 2, 3], [5, 0, 3, 2], [5, 0, 4, 1], [5, 0, 5, 0], [5, 1, 0, 6], [5, 1, 1, 5], [5, 1, 2, 4], [5, 1, 3, 3], [5, 1, 4, 2], [5, 1, 5, 1], [5, 1, 6, 0], [5, 2, 0, 7], [5, 2, 1, 6], [5, 2, 2, 5], [5, 2, 3, 4], [5, 2, 4, 3], [5, 2, 5, 2], [5, 2, 6, 1], [5, 2, 7, 0], [5, 3, 0, 8], [5, 3, 1, 7], [5, 3, 2, 6], [5, 3, 3, 5], [5, 3, 4, 4], [5, 3, 5, 3], [5, 3, 6, 2], [5, 3, 7, 1], [5, 3, 8, 0], [5, 4, 0, 9], [5, 4, 1, 8], [5, 4, 2, 7], [5, 4, 3, 6], [5, 4, 4, 5], [5, 4, 5, 4], [5, 4, 6, 3], [5, 4, 7, 2], [5, 4, 8, 1], [5, 4, 9, 0], [5, 5, 0, 10], [5, 5, 1, 9], [5, 5, 2, 8], [5, 5, 3, 7], [5, 5, 4, 6], [5, 5, 5, 5], [5, 5, 6, 4], [5, 5, 7, 3], [5, 5, 8, 2], [5, 5, 9, 1], [5, 5, 10, 0], [5, 6, 1, 10], [5, 6, 2, 9], [5, 6, 3, 8], [5, 6, 4, 7], [5, 6, 5, 6], [5, 6, 6, 5], [5, 6, 7, 4], [5, 6, 8, 3], [5, 6, 9, 2], [5, 6, 10, 1], [5, 7, 2, 10], [5, 7, 3, 9], [5, 7, 4, 8], [5, 7, 5, 7], [5, 7, 6, 6], [5, 7, 7, 5], [5, 7, 8, 4], [5, 7, 9, 3], [5, 7, 10, 2], [5, 8, 3, 10], [5, 8, 4, 9], [5, 8, 5, 8], [5, 8, 6, 7], [5, 8, 7, 6], [5, 8, 8, 5], [5, 8, 9, 4], [5, 8, 10, 3], [5, 9, 4, 10], [5, 9, 5, 9], [5, 9, 6, 8], [5, 9, 7, 7], [5, 9, 8, 6], [5, 9, 9, 5], [5, 9, 10, 4], [5, 10, 5, 10], [5, 10, 6, 9], [5, 10, 7, 8], [5, 10, 8, 7], [5, 10, 9, 6], [5, 10, 10, 5], [6, 0, 0, 6], [6, 0, 1, 5], [6, 0, 2, 4], [6, 0, 3, 3], [6, 0, 4, 2], [6, 0, 5, 1], [6, 0, 6, 0], [6, 1, 0, 7], [6, 1, 1, 6], [6, 1, 2, 5], [6, 1, 3, 4], [6, 1, 4, 3], [6, 1, 5, 2], [6, 1, 6, 1], [6, 1, 7, 0], [6, 2, 0, 8], [6, 2, 1, 7], [6, 2, 2, 6], [6, 2, 3, 5], [6, 2, 4, 4], [6, 2, 5, 3], [6, 2, 6, 2], [6, 2, 7, 1], [6, 2, 8, 0], [6, 3, 0, 9], [6, 3, 1, 8], [6, 3, 2, 7], [6, 3, 3, 6], [6, 3, 4, 5], [6, 3, 5, 4], [6, 3, 6, 3], [6, 3, 7, 2], [6, 3, 8, 1], [6, 3, 9, 0], [6, 4, 0, 10], [6, 4, 1, 9], [6, 4, 2, 8], [6, 4, 3, 7], [6, 4, 4, 6], [6, 4, 5, 5], [6, 4, 6, 4], [6, 4, 7, 3], [6, 4, 8, 2], [6, 4, 9, 1], [6, 4, 10, 0], [6, 5, 1, 10], [6, 5, 2, 9], [6, 5, 3, 8], [6, 5, 4, 7], [6, 5, 5, 6], [6, 5, 6, 5], [6, 5, 7, 4], [6, 5, 8, 3], [6, 5, 9, 2], [6, 5, 10, 1], [6, 6, 2, 10], [6, 6, 3, 9], [6, 6, 4, 8], [6, 6, 5, 7], [6, 6, 6, 6], [6, 6, 7, 5], [6, 6, 8, 4], [6, 6, 9, 3], [6, 6, 10, 2], [6, 7, 3, 10], [6, 7, 4, 9], [6, 7, 5, 8], [6, 7, 6, 7], [6, 7, 7, 6], [6, 7, 8, 5], [6, 7, 9, 4], [6, 7, 10, 3], [6, 8, 4, 10], [6, 8, 5, 9], [6, 8, 6, 8], [6, 8, 7, 7], [6, 8, 8, 6], [6, 8, 9, 5], [6, 8, 10, 4], [6, 9, 5, 10], [6, 9, 6, 9], [6, 9, 7, 8], [6, 9, 8, 7], [6, 9, 9, 6], [6, 9, 10, 5], [6, 10, 6, 10], [6, 10, 7, 9], [6, 10, 8, 8], [6, 10, 9, 7], [6, 10, 10, 6], [7, 0, 0, 7], [7, 0, 1, 6], [7, 0, 2, 5], [7, 0, 3, 4], [7, 0, 4, 3], [7, 0, 5, 2], [7, 0, 6, 1], [7, 0, 7, 0], [7, 1, 0, 8], [7, 1, 1, 7], [7, 1, 2, 6], [7, 1, 3, 5], [7, 1, 4, 4], [7, 1, 5, 3], [7, 1, 6, 2], [7, 1, 7, 1], [7, 1, 8, 0], [7, 2, 0, 9], [7, 2, 1, 8], [7, 2, 2, 7], [7, 2, 3, 6], [7, 2, 4, 5], [7, 2, 5, 4], [7, 2, 6, 3], [7, 2, 7, 2], [7, 2, 8, 1], [7, 2, 9, 0], [7, 3, 0, 10], [7, 3, 1, 9], [7, 3, 2, 8], [7, 3, 3, 7], [7, 3, 4, 6], [7, 3, 5, 5], [7, 3, 6, 4], [7, 3, 7, 3], [7, 3, 8, 2], [7, 3, 9, 1], [7, 3, 10, 0], [7, 4, 1, 10], [7, 4, 2, 9], [7, 4, 3, 8], [7, 4, 4, 7], [7, 4, 5, 6], [7, 4, 6, 5], [7, 4, 7, 4], [7, 4, 8, 3], [7, 4, 9, 2], [7, 4, 10, 1], [7, 5, 2, 10], [7, 5, 3, 9], [7, 5, 4, 8], [7, 5, 5, 7], [7, 5, 6, 6], [7, 5, 7, 5], [7, 5, 8, 4], [7, 5, 9, 3], [7, 5, 10, 2], [7, 6, 3, 10], [7, 6, 4, 9], [7, 6, 5, 8], [7, 6, 6, 7], [7, 6, 7, 6], [7, 6, 8, 5], [7, 6, 9, 4], [7, 6, 10, 3], [7, 7, 4, 10], [7, 7, 5, 9], [7, 7, 6, 8], [7, 7, 7, 7], [7, 7, 8, 6], [7, 7, 9, 5], [7, 7, 10, 4], [7, 8, 5, 10], [7, 8, 6, 9], [7, 8, 7, 8], [7, 8, 8, 7], [7, 8, 9, 6], [7, 8, 10, 5], [7, 9, 6, 10], [7, 9, 7, 9], [7, 9, 8, 8], [7, 9, 9, 7], [7, 9, 10, 6], [7, 10, 7, 10], [7, 10, 8, 9], [7, 10, 9, 8], [7, 10, 10, 7], [8, 0, 0, 8], [8, 0, 1, 7], [8, 0, 2, 6], [8, 0, 3, 5], [8, 0, 4, 4], [8, 0, 5, 3], [8, 0, 6, 2], [8, 0, 7, 1], [8, 0, 8, 0], [8, 1, 0, 9], [8, 1, 1, 8], [8, 1, 2, 7], [8, 1, 3, 6], [8, 1, 4, 5], [8, 1, 5, 4], [8, 1, 6, 3], [8, 1, 7, 2], [8, 1, 8, 1], [8, 1, 9, 0], [8, 2, 0, 10], [8, 2, 1, 9], [8, 2, 2, 8], [8, 2, 3, 7], [8, 2, 4, 6], [8, 2, 5, 5], [8, 2, 6, 4], [8, 2, 7, 3], [8, 2, 8, 2], [8, 2, 9, 1], [8, 2, 10, 0], [8, 3, 1, 10], [8, 3, 2, 9], [8, 3, 3, 8], [8, 3, 4, 7], [8, 3, 5, 6], [8, 3, 6, 5], [8, 3, 7, 4], [8, 3, 8, 3], [8, 3, 9, 2], [8, 3, 10, 1], [8, 4, 2, 10], [8, 4, 3, 9], [8, 4, 4, 8], [8, 4, 5, 7], [8, 4, 6, 6], [8, 4, 7, 5], [8, 4, 8, 4], [8, 4, 9, 3], [8, 4, 10, 2], [8, 5, 3, 10], [8, 5, 4, 9], [8, 5, 5, 8], [8, 5, 6, 7], [8, 5, 7, 6], [8, 5, 8, 5], [8, 5, 9, 4], [8, 5, 10, 3], [8, 6, 4, 10], [8, 6, 5, 9], [8, 6, 6, 8], [8, 6, 7, 7], [8, 6, 8, 6], [8, 6, 9, 5], [8, 6, 10, 4], [8, 7, 5, 10], [8, 7, 6, 9], [8, 7, 7, 8], [8, 7, 8, 7], [8, 7, 9, 6], [8, 7, 10, 5], [8, 8, 6, 10], [8, 8, 7, 9], [8, 8, 8, 8], [8, 8, 9, 7], [8, 8, 10, 6], [8, 9, 7, 10], [8, 9, 8, 9], [8, 9, 9, 8], [8, 9, 10, 7], [8, 10, 8, 10], [8, 10, 9, 9], [8, 10, 10, 8], [9, 0, 0, 9], [9, 0, 1, 8], [9, 0, 2, 7], [9, 0, 3, 6], [9, 0, 4, 5], [9, 0, 5, 4], [9, 0, 6, 3], [9, 0, 7, 2], [9, 0, 8, 1], [9, 0, 9, 0], [9, 1, 0, 10], [9, 1, 1, 9], [9, 1, 2, 8], [9, 1, 3, 7], [9, 1, 4, 6], [9, 1, 5, 5], [9, 1, 6, 4], [9, 1, 7, 3], [9, 1, 8, 2], [9, 1, 9, 1], [9, 1, 10, 0], [9, 2, 1, 10], [9, 2, 2, 9], [9, 2, 3, 8], [9, 2, 4, 7], [9, 2, 5, 6], [9, 2, 6, 5], [9, 2, 7, 4], [9, 2, 8, 3], [9, 2, 9, 2], [9, 2, 10, 1], [9, 3, 2, 10], [9, 3, 3, 9], [9, 3, 4, 8], [9, 3, 5, 7], [9, 3, 6, 6], [9, 3, 7, 5], [9, 3, 8, 4], [9, 3, 9, 3], [9, 3, 10, 2], [9, 4, 3, 10], [9, 4, 4, 9], [9, 4, 5, 8], [9, 4, 6, 7], [9, 4, 7, 6], [9, 4, 8, 5], [9, 4, 9, 4], [9, 4, 10, 3], [9, 5, 4, 10], [9, 5, 5, 9], [9, 5, 6, 8], [9, 5, 7, 7], [9, 5, 8, 6], [9, 5, 9, 5], [9, 5, 10, 4], [9, 6, 5, 10], [9, 6, 6, 9], [9, 6, 7, 8], [9, 6, 8, 7], [9, 6, 9, 6], [9, 6, 10, 5], [9, 7, 6, 10], [9, 7, 7, 9], [9, 7, 8, 8], [9, 7, 9, 7], [9, 7, 10, 6], [9, 8, 7, 10], [9, 8, 8, 9], [9, 8, 9, 8], [9, 8, 10, 7], [9, 9, 8, 10], [9, 9, 9, 9], [9, 9, 10, 8], [9, 10, 9, 10], [9, 10, 10, 9], [10, 0, 0, 10], [10, 0, 1, 9], [10, 0, 2, 8], [10, 0, 3, 7], [10, 0, 4, 6], [10, 0, 5, 5], [10, 0, 6, 4], [10, 0, 7, 3], [10, 0, 8, 2], [10, 0, 9, 1], [10, 0, 10, 0], [10, 1, 1, 10], [10, 1, 2, 9], [10, 1, 3, 8], [10, 1, 4, 7], [10, 1, 5, 6], [10, 1, 6, 5], [10, 1, 7, 4], [10, 1, 8, 3], [10, 1, 9, 2], [10, 1, 10, 1], [10, 2, 2, 10], [10, 2, 3, 9], [10, 2, 4, 8], [10, 2, 5, 7], [10, 2, 6, 6], [10, 2, 7, 5], [10, 2, 8, 4], [10, 2, 9, 3], [10, 2, 10, 2], [10, 3, 3, 10], [10, 3, 4, 9], [10, 3, 5, 8], [10, 3, 6, 7], [10, 3, 7, 6], [10, 3, 8, 5], [10, 3, 9, 4], [10, 3, 10, 3], [10, 4, 4, 10], [10, 4, 5, 9], [10, 4, 6, 8], [10, 4, 7, 7], [10, 4, 8, 6], [10, 4, 9, 5], [10, 4, 10, 4], [10, 5, 5, 10], [10, 5, 6, 9], [10, 5, 7, 8], [10, 5, 8, 7], [10, 5, 9, 6], [10, 5, 10, 5], [10, 6, 6, 10], [10, 6, 7, 9], [10, 6, 8, 8], [10, 6, 9, 7], [10, 6, 10, 6], [10, 7, 7, 10], [10, 7, 8, 9], [10, 7, 9, 8], [10, 7, 10, 7], [10, 8, 8, 10], [10, 8, 9, 9], [10, 8, 10, 8], [10, 9, 9, 10], [10, 9, 10, 9], [10, 10, 10, 10]], \"tiles\": [], \"id\": {\"T\": 5.378973105134475}}],\"#graphics_342033519356\")'></div></th></tr></thead></table>\n","python"],"17":["### \nThe first thing we observe that self-dependences of statement instances are gone.\nIndeed, a statement instance cannot be executed before itself.\n\n### Question\nPlot the dependence *samples* for the instance \\\\( \\\\mathtt{T}(4,2) \\\\), i.e. the statements instances it depends upon and the statement instances that depend on it.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>The first thing we observe that self-dependences of statement instances are gone.\nIndeed, a statement instance cannot be executed before itself.</p>\n<h3 id=\"question\">Question</h3>\n<p>Plot the dependence <em>samples</em> for the instance \\( \\mathtt{T}(4,2) \\), i.e. the statements instances it depends upon and the statement instances that depend on it.</p>\n","markdown"],"18":["#!Solution\npoint = isl.set(\"{T[i,j]: i = 4 and j = 2}\")\nsources = dep_flow_T.intersect_range(point)\nsinks = dep_flow_T.intersect_domain(point)\nprint_latex(sources)\nprint_latex(sinks)\nplot([sources, sinks])","<div class=\"pt-solution\" style=\"display: none\">#!Solution\npoint = isl.set(\"{T[i,j]: i = 4 and j = 2}\")\nsources = dep_flow_T.intersect_range(point)\nsinks = dep_flow_T.intersect_domain(point)\nprint_latex(sources)\nprint_latex(sinks)\nplot([sources, sinks])</div><a onclick='pt_fillInSolution(this)' tabindex='-1' class=\"pt-markdown-link\">[Solution]</a><br>\n","solution"],"19":["","",""],"20":["### \nNow you see that it depends on statement instances that access the same array element and are executed *before* it.\nSimilarly, only the statement instances executed *after* the given statement depend on it.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>Now you see that it depends on statement instances that access the same array element and are executed <em>before</em> it.\nSimilarly, only the statement instances executed <em>after</em> the given statement depend on it.</p>\n","markdown"],"21":["### Anti and Output Dependences\nAnti-dependences are the inverse of flow dependences, that is write-after-read.\nRespecting them means that the value will not be overwritten before it is read.\nOutput dependences, or write-after-write, preserve the order of writes.\nBoth of them are sometimes called *false* dependences in a sense that the *sink* statement instance does not actually *depend* on the *data* produced by the *source* statement instance.\nIt rather needs to be executed later to avoid interference with other statement instances.\n\nThe *sink* of the false dependences is always as a write access while the source can be either a read or write.\nTherefore, we compose the union of reads and writes on the left with inverted writes on the right\n\\\\( (\\\\mathtt{reads} \\cup \\\\mathtt{writes}) \\\\circ \\\\mathtt{writes}^{-1} \\\\).\nWe then proceed as before.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"antiandoutputdependences\">Anti and Output Dependences</h3>\n<p>Anti-dependences are the inverse of flow dependences, that is write-after-read.\nRespecting them means that the value will not be overwritten before it is read.\nOutput dependences, or write-after-write, preserve the order of writes.\nBoth of them are sometimes called <em>false</em> dependences in a sense that the <em>sink</em> statement instance does not actually <em>depend</em> on the <em>data</em> produced by the <em>source</em> statement instance.\nIt rather needs to be executed later to avoid interference with other statement instances.</p>\n<p>The <em>sink</em> of the false dependences is always as a write access while the source can be either a read or write.\nTherefore, we compose the union of reads and writes on the left with inverted writes on the right\n\\( (\\mathtt{reads} \\cup \\mathtt{writes}) \\circ \\mathtt{writes}^{-1} \\).\nWe then proceed as before.</p>\n","markdown"],"22":["dep_false = writes.union(reads).apply_range(writes.reverse())\ndep_false = dep_false.apply_domain(schedule).apply_range(schedule)\ndep_false = dep_false.intersect(precedes)\ndep_false = dep_false.apply_domain(schedule.reverse()).apply_range(schedule.reverse())\nprint_latex(dep_false)","\\[\\{\\, \\mathrm{T}(i, j) \\to \\mathrm{T}(i', j' = i + j - i') \\mid 0 \\le i \\le 10 \\wedge 0 \\le j \\le 10 \\wedge i' \\ge -10 + i + j \\wedge i' > i \\wedge 0 \\le i' \\le 10 \\wedge i' \\le i + j \\,\\} \\cup \\{\\, \\mathrm{S}(i) \\to \\mathrm{T}(i', j = i - i') \\mid i' \\ge -10 + i \\wedge 0 \\le i' \\le 10 \\wedge i' \\le i \\,\\}\\]\n","python"],"23":["### \nIn our example, false dependences correspond exactly to flow dependences because `S` only writes and `T` reads and writes the same element.\nIt is not generally the case.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>In our example, false dependences correspond exactly to flow dependences because <code>S</code> only writes and <code>T</code> reads and writes the same element.\nIt is not generally the case.</p>\n","markdown"],"24":["print dep_false.is_equal(dep_flow)","True\n","python"],"25":["### Question: Input Dependences\nEven though they are usually not enforced, *input*, or read-after-read, dependences can be useful in program optimization.\nCompute the input dependences similarly to the two previous cases.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"questioninputdependences\">Question: Input Dependences</h3>\n<p>Even though they are usually not enforced, <em>input</em>, or read-after-read, dependences can be useful in program optimization.\nCompute the input dependences similarly to the two previous cases.</p>\n","markdown"],"26":["#!Solution\ndep_input = reads.apply_range(reads.reverse())\ndep_input = dep_input.apply_domain(schedule).apply_range(schedule)\ndep_input = dep_input.intersect(precedes)\ndep_input = dep_input.apply_domain(schedule.reverse()).apply_range(schedule.reverse())\nprint_latex(dep_input)","<div class=\"pt-solution\" style=\"display: none\">#!Solution\ndep_input = reads.apply_range(reads.reverse())\ndep_input = dep_input.apply_domain(schedule).apply_range(schedule)\ndep_input = dep_input.intersect(precedes)\ndep_input = dep_input.apply_domain(schedule.reverse()).apply_range(schedule.reverse())\nprint_latex(dep_input)</div><a onclick='pt_fillInSolution(this)' tabindex='-1' class=\"pt-markdown-link\">[Solution]</a><br>\n","solution"],"27":["","",""],"28":["### \nInput dependence seems to differ from flow and false once.\nIn particular, only instances of `T` are involved in this dependence.\nThis is due to the fact that `S` never reads a value.\n\n### Question\nPlot dependence *samples* of the input dependence.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>Input dependence seems to differ from flow and false once.\nIn particular, only instances of <code>T</code> are involved in this dependence.\nThis is due to the fact that <code>S</code> never reads a value.</p>\n<h3 id=\"question\">Question</h3>\n<p>Plot dependence <em>samples</em> of the input dependence.</p>\n","markdown"],"29":["#!Solution\npoint = isl.set(\"{T[i,j]: i = 4 and j = 2}\")\nsources = dep_input.intersect_range(point)\nsinks = dep_input.intersect_domain(point)\nplot([sources, sinks])","<div class=\"pt-solution\" style=\"display: none\">#!Solution\npoint = isl.set(\"{T[i,j]: i = 4 and j = 2}\")\nsources = dep_input.intersect_range(point)\nsinks = dep_input.intersect_domain(point)\nplot([sources, sinks])</div><a onclick='pt_fillInSolution(this)' tabindex='-1' class=\"pt-markdown-link\">[Solution]</a><br>\n","solution"],"30":["","",""],"31":["### \nThe complex pattern of dependences is caused by reading from multiple different arrays in the same statement intances\n\n## Value-based Analysis\nYou may observe that each statement instance depends on *all* instances that access the same array element.\nYet is it not always necessary.\nConsider the flow dependence pattern for `T(4,2)` and `T(5,1)`.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>The complex pattern of dependences is caused by reading from multiple different arrays in the same statement intances</p>\n<h2 id=\"valuebasedanalysis\">Value-based Analysis</h2>\n<p>You may observe that each statement instance depends on <em>all</em> instances that access the same array element.\nYet is it not always necessary.\nConsider the flow dependence pattern for <code>T(4,2)</code> and <code>T(5,1)</code>.</p>\n","markdown"],"32":["point1 = isl.set(\"{T[i,j]: i = 4 and j = 2}\")\npoint2 = isl.set(\"{T[i,j]: i = 5 and j = 1}\")\nsources1 = dep_flow_T.intersect_range(point1)\nsources2 = dep_flow_T.intersect_range(point2)\nplot([sources1, sources2])","<table class='table table-striped'><thead><tr><th><div class='graphics' id='graphics_263180797786'><img src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' onload='plotUnionMapClosed(\"#graphics_263180797786\",[{\"from\": \"T\", \"to\": \"T\", \"points\": [[0, 6, 4, 2], [1, 5, 4, 2], [2, 4, 4, 2], [3, 3, 4, 2]], \"tiles\": [], \"id\": {\"T\": 5.378973105134475}}],\"#graphics_263180797786\")'></div></th><th><div class='graphics' id='graphics_533177658401'><img src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' onload='plotUnionMapClosed(\"#graphics_533177658401\",[{\"from\": \"T\", \"to\": \"T\", \"points\": [[0, 6, 5, 1], [1, 5, 5, 1], [2, 4, 5, 1], [3, 3, 5, 1], [4, 2, 5, 1]], \"tiles\": [], \"id\": {\"T\": 5.378973105134475}}],\"#graphics_533177658401\")'></div></th></tr></thead></table>\n","python"],"33":["### \n`T(5,1)` depends on all the same instances as `T(4,2)` and on `T(4,2)` itself.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p><code>T(5,1)</code> depends on all the same instances as <code>T(4,2)</code> and on <code>T(4,2)</code> itself.</p>\n","markdown"],"34":["print sources2.domain().subtract(point1).is_equal(sources1.domain())","True\n","python"],"35":["### \nIf `T(4,2)` needs to be scheduled after `T(3,3)` and `T(5,1)` needs to be scheduled after `T(4,2)`, then\n`T(5,1)` also needs to be scheduled after `T(3,3)`.  So the dependence between these two instances is *transitively covered* by\ndependences between other instances.\nWe can remove the transitively covered flow dependences safely.\nThis can be done by computing lexicographically largest source instance for any sink instance in a dependence, and by removing all the other sources.\n\nSuch computation is non-trivial and may involve solution of a linear optimization problem.  *isl* provides functionality to perform this *value-based* analysis directly.\nHowever, it uses a more elaborate *tree* structure for the schedules.\nFor the sake of this example, we will provide this schedule without further explanation.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>If <code>T(4,2)</code> needs to be scheduled after <code>T(3,3)</code> and <code>T(5,1)</code> needs to be scheduled after <code>T(4,2)</code>, then\n<code>T(5,1)</code> also needs to be scheduled after <code>T(3,3)</code>.  So the dependence between these two instances is <em>transitively covered</em> by\ndependences between other instances.\nWe can remove the transitively covered flow dependences safely.\nThis can be done by computing lexicographically largest source instance for any sink instance in a dependence, and by removing all the other sources.</p>\n<p>Such computation is non-trivial and may involve solution of a linear optimization problem.  <em>isl</em> provides functionality to perform this <em>value-based</em> analysis directly.\nHowever, it uses a more elaborate <em>tree</em> structure for the schedules.\nFor the sake of this example, we will provide this schedule without further explanation.</p>\n","markdown"],"36":["schedule = isl.schedule('{ domain: \"{ T[i, j] : 0 <= i <= 10 and 0 <= j <= 10; S[i] : 0 <= i <= 20 }\", child: { sequence: [{ filter: \"{ S[i] }\", child: { schedule: \"[{S[i] -> [(i)]}, {S[i] -> [(0)]}]\" }}, { filter: \"{ T[i, j] }\", child: { schedule: \"[{T[i, j] -> [(i)]}, {T[i, j] -> [(j)]}]\" }} ] } }')","","python"],"37":["### \nNow it is possible to set up the *value-based* dependence analysis","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>Now it is possible to set up the <em>value-based</em> dependence analysis</p>\n","markdown"],"38":["uai = isl.union_access_info(reads)\nuai = uai.set_must_source(writes)\nuai = uai.set_schedule(schedule)\nflow = uai.compute_flow()\ndep_flow_precise = flow.get_may_dependence()\nprint_latex(dep_flow_precise)","\\[\\{\\, \\mathrm{T}(i, j) \\to \\mathrm{T}(i' = 1 + i, j' = -1 + j) \\mid 0 \\le i \\le 9 \\wedge j > 0 \\wedge -i \\le j \\le 20 - i \\wedge j \\le 10 \\,\\} \\cup \\{\\, \\mathrm{S}(i) \\to \\mathrm{T}(i' = -10 + i, j = 10) \\mid 10 \\le i \\le 20 \\,\\} \\cup \\{\\, \\mathrm{S}(i) \\to \\mathrm{T}(i' = 0, j = i) \\mid 0 \\le i \\le 9 \\,\\}\\]\n","python"],"39":["### \nThis depenedence relation no longer includes the transitively covered cases.\n\n### Question\nConstrain the dependence to instances of `T` only and plot *samples* for instances `T(4,2)` and `T(5,1)`.\nCompare them with those obtained for *memory-based* analysis.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>This depenedence relation no longer includes the transitively covered cases.</p>\n<h3 id=\"question\">Question</h3>\n<p>Constrain the dependence to instances of <code>T</code> only and plot <em>samples</em> for instances <code>T(4,2)</code> and <code>T(5,1)</code>.\nCompare them with those obtained for <em>memory-based</em> analysis.</p>\n","markdown"],"40":["#!Solution\ndep_flow_precise_T = dep_flow_precise.intersect(\"{T[i,j]->T[i',j']:}\")\nsources1 = dep_flow_precise_T.intersect_range(point1)\nsources2 = dep_flow_precise_T.intersect_range(point2)\nplot([sources1, sources2])","<div class=\"pt-solution\" style=\"display: none\">#!Solution\ndep_flow_precise_T = dep_flow_precise.intersect(\"{T[i,j]->T[i',j']:}\")\nsources1 = dep_flow_precise_T.intersect_range(point1)\nsources2 = dep_flow_precise_T.intersect_range(point2)\nplot([sources1, sources2])</div><a onclick='pt_fillInSolution(this)' tabindex='-1' class=\"pt-markdown-link\">[Solution]</a><br>\n","solution"],"41":["","",""],"42":["### \nAs you may see, each `T` instance now depends exactly on only one other `T` instance.\n\n*Memory-based* dependences can be recovered from *value-based* dependences by computing the transitive closure of the dependence relation.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"\"> </h3>\n<p>As you may see, each <code>T</code> instance now depends exactly on only one other <code>T</code> instance.</p>\n<p><em>Memory-based</em> dependences can be recovered from <em>value-based</em> dependences by computing the transitive closure of the dependence relation.</p>\n","markdown"],"43":["### Question\nCompute input dependences using *value-based* procedure.  Visualize their patterns.","<a onclick='pt_editMarkdown(this)' tabindex='-1' class=\"pt-markdown-link\">[Markdown]</a><h3 id=\"question\">Question</h3>\n<p>Compute input dependences using <em>value-based</em> procedure.  Visualize their patterns.</p>\n","markdown"],"44":["#!Solution\nuai = isl.union_access_info(reads)\nuai = uai.set_must_source(reads)\nuai = uai.set_schedule(schedule)\nflow = uai.compute_flow()\ndep_input_precise = flow.get_may_dependence()\nprint_latex(dep_input_precise)","<div class=\"pt-solution\" style=\"display: none\">#!Solution\nuai = isl.union_access_info(reads)\nuai = uai.set_must_source(reads)\nuai = uai.set_schedule(schedule)\nflow = uai.compute_flow()\ndep_input_precise = flow.get_may_dependence()\nprint_latex(dep_input_precise)</div><a onclick='pt_fillInSolution(this)' tabindex='-1' class=\"pt-markdown-link\">[Solution]</a><br>\n","solution"],"45":["","",""]}